{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { GetWeahterData } from \"../api/WeatherApi\";\nexport default function CityWeatherData(cityCoordinates, setWeatherData, setWeatherArrayTimeIndex, setWeatherArrayDateIndex) {\n  _s();\n  useEffect(() => {\n    const fetchData = async () => {\n      var _response$hourly$time;\n      const coordinates = await cityCoordinates;\n      const latitude = (Math.round(coordinates.latitude * 100) / 100).toFixed(2);\n      const longitude = (Math.round(coordinates.longitude * 100) / 100).toFixed(2);\n      let response = await GetWeahterData(latitude, longitude);\n      setWeatherData(response);\n      let dateNow = new Date();\n      let timeNow = dateNow.getHours();\n      let today;\n      today = dateNow.getFullYear() + \"-0\" + (dateNow.getMonth() + 1) + \"-\" + dateNow.getDate() + \"T12:00\";\n      let indexOfToday = (_response$hourly$time = response === null || response === void 0 ? void 0 : response.hourly.time.indexOf(today)) !== null && _response$hourly$time !== void 0 ? _response$hourly$time : 0;\n      setWeatherArrayTimeIndex(timeNow - 1);\n      setWeatherArrayDateIndex(indexOfToday);\n    };\n    fetchData();\n  }, [cityCoordinates]);\n}\n_s(CityWeatherData, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = CityWeatherData;\nvar _c;\n$RefreshReg$(_c, \"CityWeatherData\");","map":{"version":3,"names":["useEffect","GetWeahterData","CityWeatherData","cityCoordinates","setWeatherData","setWeatherArrayTimeIndex","setWeatherArrayDateIndex","_s","fetchData","_response$hourly$time","coordinates","latitude","Math","round","toFixed","longitude","response","dateNow","Date","timeNow","getHours","today","getFullYear","getMonth","getDate","indexOfToday","hourly","time","indexOf","_c","$RefreshReg$"],"sources":["/Users/martazareckaja/Weather-App/src/components/CityWeatherData.tsx"],"sourcesContent":["import { SetStateAction, useEffect, useState } from \"react\";\nimport { GetWeahterData, WeatherData } from \"../api/WeatherApi\";\nimport { CoordinatesData } from \"../api/CoordinatesApi\";\n\nexport default function CityWeatherData(\n  cityCoordinates: unknown,\n  setWeatherData: {\n    (value: SetStateAction<WeatherData | null | undefined>): void;\n    (arg0: WeatherData | null): void;\n  },\n  setWeatherArrayTimeIndex: {\n    (value: SetStateAction<number>): void;\n    (arg0: number): void;\n  },\n  setWeatherArrayDateIndex: {\n    (value: SetStateAction<number>): void;\n    (arg0: number): void;\n  }\n) {\n  useEffect(() => {\n    const fetchData = async () => {\n      const coordinates = await cityCoordinates;\n      const latitude = (Math.round(coordinates.latitude * 100) / 100).toFixed(\n        2\n      );\n      const longitude = (Math.round(coordinates.longitude * 100) / 100).toFixed(\n        2\n      );\n\n      let response = await GetWeahterData(latitude, longitude);\n\n      setWeatherData(response);\n\n      let dateNow = new Date();\n      let timeNow = dateNow.getHours();\n\n      let today: string;\n      today =\n        dateNow.getFullYear() +\n        \"-0\" +\n        (dateNow.getMonth() + 1) +\n        \"-\" +\n        dateNow.getDate() +\n        \"T12:00\";\n\n      let indexOfToday = response?.hourly.time.indexOf(today) ?? 0;\n\n      setWeatherArrayTimeIndex(timeNow - 1);\n      setWeatherArrayDateIndex(indexOfToday);\n    };\n\n    fetchData();\n  }, [cityCoordinates]);\n}\n"],"mappings":";AAAA,SAAyBA,SAAS,QAAkB,OAAO;AAC3D,SAASC,cAAc,QAAqB,mBAAmB;AAG/D,eAAe,SAASC,eAAeA,CACrCC,eAAwB,EACxBC,cAGC,EACDC,wBAGC,EACDC,wBAGC,EACD;EAAAC,EAAA;EACAP,SAAS,CAAC,MAAM;IACd,MAAMQ,SAAS,GAAG,MAAAA,CAAA,KAAY;MAAA,IAAAC,qBAAA;MAC5B,MAAMC,WAAW,GAAG,MAAMP,eAAe;MACzC,MAAMQ,QAAQ,GAAG,CAACC,IAAI,CAACC,KAAK,CAACH,WAAW,CAACC,QAAQ,GAAG,GAAG,CAAC,GAAG,GAAG,EAAEG,OAAO,CACrE,CACF,CAAC;MACD,MAAMC,SAAS,GAAG,CAACH,IAAI,CAACC,KAAK,CAACH,WAAW,CAACK,SAAS,GAAG,GAAG,CAAC,GAAG,GAAG,EAAED,OAAO,CACvE,CACF,CAAC;MAED,IAAIE,QAAQ,GAAG,MAAMf,cAAc,CAACU,QAAQ,EAAEI,SAAS,CAAC;MAExDX,cAAc,CAACY,QAAQ,CAAC;MAExB,IAAIC,OAAO,GAAG,IAAIC,IAAI,CAAC,CAAC;MACxB,IAAIC,OAAO,GAAGF,OAAO,CAACG,QAAQ,CAAC,CAAC;MAEhC,IAAIC,KAAa;MACjBA,KAAK,GACHJ,OAAO,CAACK,WAAW,CAAC,CAAC,GACrB,IAAI,IACHL,OAAO,CAACM,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GACxB,GAAG,GACHN,OAAO,CAACO,OAAO,CAAC,CAAC,GACjB,QAAQ;MAEV,IAAIC,YAAY,IAAAhB,qBAAA,GAAGO,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEU,MAAM,CAACC,IAAI,CAACC,OAAO,CAACP,KAAK,CAAC,cAAAZ,qBAAA,cAAAA,qBAAA,GAAI,CAAC;MAE5DJ,wBAAwB,CAACc,OAAO,GAAG,CAAC,CAAC;MACrCb,wBAAwB,CAACmB,YAAY,CAAC;IACxC,CAAC;IAEDjB,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACL,eAAe,CAAC,CAAC;AACvB;AAACI,EAAA,CAjDuBL,eAAe;AAAA2B,EAAA,GAAf3B,eAAe;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}